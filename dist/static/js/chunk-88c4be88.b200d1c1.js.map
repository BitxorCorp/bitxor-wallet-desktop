{"version":3,"sources":["webpack:///./src/views/pages/profiles/access-ledger/finalize/Finalize.vue?470f","webpack:///./src/views/pages/profiles/access-ledger/finalize/Finalize.vue?5f5a","webpack:///./src/views/pages/profiles/access-ledger/finalize/Finalize.vue?9c65","webpack:///./src/views/pages/profiles/access-ledger/finalize/FinalizeTs.ts","webpack:///src/views/pages/profiles/access-ledger/finalize/Finalize.vue","webpack:///./src/views/pages/profiles/access-ledger/finalize/Finalize.vue?5ee8","webpack:///./src/views/pages/profiles/access-ledger/finalize/Finalize.vue","webpack:///./src/views/pages/profiles/access-ledger/finalize/Finalize.vue?8449"],"names":["content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_API_IMPORT___","push","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","type","indexOf","_k","keyCode","key","$router","name","_v","_s","$t","model","value","callback","$$v","marked","expression","attrs","finish","_e","staticRenderFns","derived","FinalizeTs","_classCallCheck","_this2","termsAndConditions","privacyAndPolicy","ProfileService","_inherits","derivation","DerivationService","currentProfile","networkType","accountService","AccountService","modalIdentifier","Vue","set","modalVisibility","error","message","includes","errorCode","$store","dispatch","reason","indexes","accountPath","getAccountPathByNetworkType","paths","map","index","_this3","incrementPathLevel","DerivationPathLevels","Profile","_context2","generateLedgerAccountsPaths","accounts","account","id","SimpleObjectStorage","generateIdentifier","profileName","node","AccountType","LEDGER","address","publicKey","encryptedPrivateKey","path","isMultisig","_this4","_context3","Network","BITCOIN","LEDGER_OPT_IN","isLoading","_context4","createAccountsFromPathIndexes","selectedAccounts","normalAccounts","createOptInAccountsFromPathIndexes","selectedOptInAccounts","optInAccounts","forEach","_this5","saveAccount","accountIdentifiers","profileService","updateAccounts","errorNotificationHandler","Component","computed","mapGetters","networkToken","networkCurrency","currentPassword","currentMnemonic","Finalize","component"],"mappings":"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","file":"static/js/chunk-88c4be88.b200d1c1.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Finalize.vue?vue&type=style&index=0&id=436ce4be&lang=less&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"d89f5660\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".finish-sec[data-v-436ce4be]{height:80%}.finish-sec .finish-col[data-v-436ce4be]{display:flex;position:relative}.finish-sec .link[data-v-436ce4be]{font-size:.16rem}.finish-sec .set-title-tips[data-v-436ce4be]{margin:.1rem 0}.text1[data-v-436ce4be]{color:#26c3f2;font-size:.25rem;font-family:noto-sans-semibold;margin-bottom:.2rem}.text[data-v-436ce4be]{margin-bottom:2%}.text[data-v-436ce4be],.text_red[data-v-436ce4be]{color:#26c3f2;font-size:.18rem}.text_red[data-v-436ce4be]{font-family:noto-sans-regular}.jump-btn[data-v-436ce4be]{display:flex;justify-content:flex-end;margin-top:.6rem}.list-item-with-disc[data-v-436ce4be]{list-style-type:disc}.checkbox-label[data-v-436ce4be]{margin-left:.04rem;font-size:.18rem;color:#26c3f2}.checkbox-label a[data-v-436ce4be]{color:#1a7996;font-size:.18rem}.checkbox-label a[data-v-436ce4be]:hover{color:#0d4252}.checkbox[data-v-436ce4be]{margin-top:.5rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"finish-sec\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$router.push({ name: 'dashboard' })}}},[_c('div',{staticClass:\"finish-col\"},[_c('div',{staticClass:\"finish-left\"},[_c('p',{staticClass:\"text1\"},[_vm._v(\" \"+_vm._s(_vm.$t('terms_and_conditions'))+\" \")]),_c('div',{staticClass:\"checkbox\"},[_c('Checkbox',{model:{value:(_vm.marked),callback:function ($$v) {_vm.marked=$$v},expression:\"marked\"}},[_c('span',{staticClass:\"checkbox-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('i_accept'))+\" \"),_c('a',{attrs:{\"href\":\"#/terms\"}},[_vm._v(_vm._s(_vm.$t('terms_and_conditions')))]),_vm._v(\" & \"),_c('a',{attrs:{\"href\":\"#/privacy\"}},[_vm._v(_vm._s(_vm.$t('privacy_policy')))]),_vm._v(\". \")])])],1),_c('div',{staticClass:\"jump-btn\"},[_c('button',{staticClass:\"solid-button button-style create-account-style\",on:{\"click\":function($event){return _vm.$router.push({ name: 'profiles.accessLedger.walletSelection' })}}},[_vm._v(\" \"+_vm._s(_vm.$t('back'))+\" \")]),_c('button',{staticClass:\"inverted-button solid-button button-style create-account-style\",attrs:{\"disabled\":!_vm.marked},on:{\"click\":_vm.finish}},[_vm._v(\" \"+_vm._s(_vm.$t('finish'))+\" \")])])]),(_vm.isLoading)?_c('Spin',{staticClass:\"absolute\",attrs:{\"size\":\"large\",\"fix\":\"\"}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * (C) Bitxor Community 2022\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Vue, Component } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\nimport { ProfileService } from '@/services/ProfileService';\nimport { AccountModel, AccountType } from '@/core/database/entities/AccountModel';\nimport { AccountService } from '@/services/AccountService';\nimport { DerivationPathLevels, DerivationService } from '@/services/DerivationService';\nimport { Network } from 'bitxor-hd-wallets';\nimport { Password } from 'bitxor-sdk';\nimport { SimpleObjectStorage } from '@/core/database/backends/SimpleObjectStorage';\nimport { ProfileModel } from '@/core/database/entities/ProfileModel';\n\n@Component({\n    computed: {\n        ...mapGetters({\n            currentProfile: 'profile/currentProfile',\n            networkType: 'network/networkType',\n            networkToken: 'token/networkToken',\n            networkCurrency: 'token/networkCurrency',\n            currentPassword: 'temporary/password',\n            currentMnemonic: 'temporary/mnemonic',\n            selectedAccounts: 'account/selectedAddressesToInteract',\n            selectedOptInAccounts: 'account/selectedAddressesOptInToInteract',\n        }),\n    },\n})\nexport default class FinalizeTs extends Vue {\n    /**\n     * Form is being submitted\n     */\n    protected isLoading: boolean = false;\n    /**\n     * Currently active profile\n     * @see {Store.Profile}\n     * @var {string}\n     */\n    public currentProfile: ProfileModel;\n\n    /**\n     * Temporary stored password\n     * @see {Store.Temporary}\n     * @var {Password}\n     */\n    public currentPassword: Password;\n\n    /**\n     * Temporary stored mnemonic pass phrase\n     * @see {Store.Temporary}\n     * @var {MnemonicPassPhrase}\n     */\n    public currentMnemonic: string;\n\n    /**\n     * Derivation Service\n     * @var {DerivationService}\n     */\n    public derivation: DerivationService;\n\n    /**\n     * Account Service\n     * @var {AccountService}\n     */\n    public accountService: AccountService;\n\n    /**\n     * Map of selected accounts\n     * @var {number[]}\n     */\n    public selectedAccounts: number[];\n\n    /**\n     * Map of selected opt in accounts\n     * @var {number[]}\n     */\n    public selectedOptInAccounts: number[];\n\n    /**\n     * Controls submit button for terms and conditions\n     * @type {boolean}\n     */\n    private marked: boolean = false;\n\n    /**\n     * Modal forms visibility states\n     * @protected\n     * @type {{\n     *     termsAndConditions: boolean\n     *     privacyAndPolicy: boolean\n     *   }}\n     */\n    protected modalVisibility: {\n        termsAndConditions: boolean;\n        privacyAndPolicy: boolean;\n    } = {\n        termsAndConditions: false,\n        privacyAndPolicy: false,\n    };\n\n    /**\n     * Profile Service\n     * @var {ProfileService}\n     */\n    public profileService: ProfileService = new ProfileService();\n\n    /**\n     * Hook called when the page is mounted\n     * @return {void}\n     */\n    async mounted() {\n        this.derivation = new DerivationService(this.currentProfile.networkType);\n        this.accountService = new AccountService();\n    }\n\n    /**\n     * Closes a modal\n     * @protected\n     * @param {string} modalIdentifier\n     * @return {void}\n     */\n    protected displayModal(modalIdentifier: string): void {\n        Vue.set(this.modalVisibility, modalIdentifier, true);\n    }\n\n    /**\n     * Closes a modal\n     * @protected\n     * @param {string} modalIdentifier\n     * @return {void}\n     */\n    protected closeModal(modalIdentifier: string): void {\n        Vue.set(this.modalVisibility, modalIdentifier, false);\n    }\n\n    /**\n     * Error notification handler\n     */\n    private errorNotificationHandler(error: any) {\n        if (error.message && error.message.includes('cannot open device with path')) {\n            error.errorCode = 'ledger_connected_other_app';\n        }\n        if (error.message && error.message.includes('A transfer error')) {\n            return;\n        }\n        if (error.errorCode) {\n            switch (error.errorCode) {\n                case 'NoDevice':\n                    this.$store.dispatch('notification/ADD_ERROR', 'ledger_no_device');\n                    return;\n                case 'ledger_not_supported_app':\n                    this.$store.dispatch('notification/ADD_ERROR', 'ledger_not_supported_app');\n                    return;\n                case 'ledger_connected_other_app':\n                    this.$store.dispatch('notification/ADD_ERROR', 'ledger_connected_other_app');\n                    return;\n                case 26628:\n                    this.$store.dispatch('notification/ADD_ERROR', 'ledger_device_locked');\n                    return;\n                case 26368:\n                case 27904:\n                    this.$store.dispatch('notification/ADD_ERROR', 'ledger_not_opened_app');\n                    return;\n                case 27264:\n                    this.$store.dispatch('notification/ADD_ERROR', 'ledger_not_using_bxr_app');\n                    return;\n                case 27013:\n                    this.$store.dispatch('notification/ADD_ERROR', 'ledger_user_reject_request');\n                    return;\n            }\n        } else if (error.name) {\n            switch (error.name) {\n                case 'TransportOpenUserCancelled':\n                    this.$store.dispatch('notification/ADD_ERROR', 'ledger_no_device_selected');\n                    return;\n            }\n        }\n        this.$store.dispatch('notification/ADD_ERROR', this.$t('create_profile_failed', { reason: error.message || error }));\n    }\n\n    /**\n     * Create an account instance from mnemonic and path\n     * @return {AccountModel}\n     */\n    private async createAccountsFromPathIndexes(indexes: number[]): Promise<AccountModel[]> {\n        const accountPath = AccountService.getAccountPathByNetworkType(this.currentProfile.networkType);\n        const paths = indexes.map((index) => {\n            if (index == 0) {\n                return accountPath;\n            }\n\n            return this.derivation.incrementPathLevel(accountPath, DerivationPathLevels.Profile, index);\n        });\n\n        const accounts = await this.accountService.generateLedgerAccountsPaths(this.currentProfile.networkType, paths);\n\n        return accounts.map((account, i) => {\n            return {\n                id: SimpleObjectStorage.generateIdentifier(),\n                profileName: this.currentProfile.profileName,\n                name: `Ledger Account ${indexes[i] + 1}`,\n                node: '',\n                type: AccountType.LEDGER,\n                address: account.address['plain'](),\n                publicKey: accounts[i].publicKey,\n                encryptedPrivateKey: '',\n                path: paths[i],\n                isMultisig: false,\n            };\n        });\n    }\n\n    /**\n     * Create opt-in account instances from Ledger device and paths\n     * @return {AccountModel}\n     */\n    private async createOptInAccountsFromPathIndexes(indexes: number[]): Promise<AccountModel[]> {\n        const accountPath = AccountService.getAccountPathByNetworkType(this.currentProfile.networkType);\n        const paths = indexes.map((index) => {\n            if (index == 0) {\n                return accountPath;\n            }\n\n            return this.derivation.incrementPathLevel(accountPath, DerivationPathLevels.Profile, index);\n        });\n\n        const accounts = await this.accountService.generateLedgerAccountsPaths(this.currentProfile.networkType, paths, Network.BITCOIN);\n\n        return accounts.map((account, i) => {\n            return {\n                id: SimpleObjectStorage.generateIdentifier(),\n                profileName: this.currentProfile.profileName,\n                name: `Opt In Ledger Account ${indexes[i] + 1}`,\n                node: '',\n                type: AccountType.LEDGER_OPT_IN,\n                address: account.address['plain'](),\n                publicKey: accounts[i].publicKey,\n                encryptedPrivateKey: '',\n                path: paths[i],\n                isMultisig: false,\n            };\n        });\n    }\n\n    public async finish() {\n        try {\n            this.isLoading = true;\n            // create account models\n            const normalAccounts = await this.createAccountsFromPathIndexes(this.selectedAccounts);\n            const optInAccounts = await this.createOptInAccountsFromPathIndexes(this.selectedOptInAccounts);\n\n            const accounts = [...optInAccounts, ...normalAccounts];\n            // save newly created accounts\n            accounts.forEach((account, index) => {\n                // Store accounts using repository\n                this.accountService.saveAccount(account);\n                // set current account\n                if (index === 0) {\n                    this.$store.dispatch('account/SET_CURRENT_ACCOUNT', account);\n                }\n                // add accounts to profile\n                this.$store.dispatch('profile/ADD_ACCOUNT', account);\n            });\n\n            // get accounts identifiers\n            const accountIdentifiers = accounts.map((account) => account.id);\n\n            // set known accounts\n            this.$store.dispatch('account/SET_KNOWN_ACCOUNTS', accountIdentifiers);\n\n            this.profileService.updateAccounts(this.currentProfile, accountIdentifiers);\n\n            this.$store.dispatch('temporary/RESET_STATE');\n            await this.$store.dispatch('network/REST_NETWORK_RENTAL_FEES');\n            // execute store actions\n            return this.$router.push({ name: 'dashboard' });\n        } catch (error) {\n            this.errorNotificationHandler(error);\n        }\n    }\n}\n","<template>\n    <div class=\"finish-sec\" @keyup.enter=\"$router.push({ name: 'dashboard' })\">\n        <div class=\"finish-col\">\n            <div class=\"finish-left\">\n                <p class=\"text1\">\n                    {{ $t('terms_and_conditions') }}\n                </p>\n\n                <div class=\"checkbox\">\n                    <Checkbox v-model=\"marked\">\n                        <span class=\"checkbox-label\">\n                            {{ $t('i_accept') }}\n                            <a href=\"#/terms\">{{ $t('terms_and_conditions') }}</a>\n                            &\n                            <a href=\"#/privacy\">{{ $t('privacy_policy') }}</a\n                            >.\n                        </span>\n                    </Checkbox>\n                </div>\n                <div class=\"jump-btn\">\n                    <button\n                        class=\"solid-button button-style create-account-style\"\n                        @click=\"$router.push({ name: 'profiles.accessLedger.walletSelection' })\"\n                    >\n                        {{ $t('back') }}\n                    </button>\n                    <button class=\"inverted-button solid-button button-style create-account-style\" :disabled=\"!marked\" @click=\"finish\">\n                        {{ $t('finish') }}\n                    </button>\n                </div>\n            </div>\n            <Spin v-if=\"isLoading\" size=\"large\" fix class=\"absolute\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport FinalizeTs from './FinalizeTs';\n\nexport default class Finalize extends FinalizeTs {}\n</script>\n<style lang=\"less\" scoped>\n@import './Finalize.less';\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Finalize.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Finalize.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Finalize.vue?vue&type=template&id=436ce4be&scoped=true&\"\nimport script from \"./Finalize.vue?vue&type=script&lang=js&\"\nexport * from \"./Finalize.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Finalize.vue?vue&type=style&index=0&id=436ce4be&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"436ce4be\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Finalize.vue?vue&type=style&index=0&id=436ce4be&lang=less&scoped=true&\""],"sourceRoot":""}