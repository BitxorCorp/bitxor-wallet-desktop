{"version":3,"sources":["webpack:///./src/views/resources/img/login/connector-pink.png","webpack:///./src/views/pages/profiles/create-profile/generate-mnemonic/GenerateMnemonic.vue?f6be","webpack:///./src/views/pages/profiles/create-profile/generate-mnemonic/GenerateMnemonic.vue?dc02","webpack:///./src/views/pages/profiles/create-profile/generate-mnemonic/GenerateMnemonicTs.ts","webpack:///./src/views/pages/profiles/create-profile/generate-mnemonic/GenerateMnemonic.vue?85c9","webpack:///./src/views/pages/profiles/create-profile/generate-mnemonic/GenerateMnemonic.vue?43ff","webpack:///./src/views/pages/profiles/create-profile/generate-mnemonic/GenerateMnemonic.vue","webpack:///./src/views/pages/profiles/create-profile/generate-mnemonic/GenerateMnemonic.vue?1f40","webpack:///./src/views/pages/profiles/create-profile/generate-mnemonic/GenerateMnemonic.vue?7fd3"],"names":["module","exports","content","__esModule","default","i","locals","add","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","_s","$t","percent","staticRenderFns","derived","GenerateMnemonicTs","_classCallCheck","_this2","ProfileService","_inherits","key","value","document","addEventListener","handleMousemove","removeEventListener","entropy","Crypto","randomBytes","shouldTrackMouse","saveMnemonicAndGoToNextPage","seed","filterRepeatedWords","encSeed","encrypt","plain","currentPassword","profileService","updateSeed","currentProfile","_context","$store","dispatch","$router","push","name","console","log","NotificationType","MNEMONIC_GENERATION_ERROR","CryptoJS","SHA256","toString","MnemonicPassPhrase","createFromEntropy","Set","toArray","size","length","Vue","Component","computed","mapGetters","GenerateMnemonic","component","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_IMPORT_5___","___CSS_LOADER_URL_IMPORT_6___","___CSS_LOADER_URL_IMPORT_7___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","___CSS_LOADER_URL_REPLACEMENT_6___","___CSS_LOADER_URL_REPLACEMENT_7___"],"mappings":"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","file":"static/js/chunk-77290e9c.f86ba466.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/connector-pink.4428f5fe.png\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateMnemonic.vue?vue&type=style&index=0&id=a93f84ea&lang=less&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"704123ad\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-2-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/views/resources/img/login/connector-pink.png\")}}),_c('spam',{staticStyle:{\"font-size\":\"0.15rem\",\"padding\":\"0.1rem 0\",\"color\":\"#007dbb\"}},[_vm._v(_vm._s(_vm.$t('move_mouse')))]),_c('Progress',{attrs:{\"stroke-color\":\"#26c3f2\",\"percent\":_vm.percent}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * (C) Bitxor Community 2022\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Component, Vue } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\nimport { Password, Crypto } from 'bitxor-sdk';\nimport { MnemonicPassPhrase } from 'bitxor-hd-wallets';\nimport CryptoJS from 'crypto-js';\n// internal dependencies\nimport { ProfileModel } from '@/core/database/entities/ProfileModel';\nimport { NotificationType } from '@/core/utils/NotificationType';\nimport { ProfileService } from '@/services/ProfileService';\n\n@Component({\n    computed: {\n        ...mapGetters({\n            currentProfile: 'profile/currentProfile',\n            currentPassword: 'temporary/password',\n        }),\n    },\n})\nexport default class GenerateMnemonicTs extends Vue {\n    /**\n     * Currently active profile\n     * @see {Store.Profile}\n     * @var {string}\n     */\n    public currentProfile: ProfileModel;\n\n    /**\n     * Previous step's password\n     * @see {Store.Temporary}\n     * @var {Password}\n     */\n    public currentPassword: Password;\n\n    /**\n     * Profile repository\n     * @var {ProfileService}\n     */\n    public profileService: ProfileService = new ProfileService();\n\n    /**\n     * Whether component should track mouse move\n     * @var {boolean}\n     */\n    public shouldTrackMouse: boolean = true;\n\n    /**\n     * Entropy storage\n     * @var {string}\n     */\n    private entropy = '';\n\n    /**\n     * Percentage of entropy generation process\n     * @var {number}\n     */\n    private percent: number = 0;\n\n    /**\n     * Hook called when the layout is mounted\n     * @return {void}\n     */\n    public mounted(): void {\n        document.addEventListener('mouseover', this.handleMousemove);\n    }\n\n    /**\n     * Hook called when the component is destroyed\n     * @return {void}\n     */\n    public destroyed(): void {\n        document.removeEventListener('mouseover', this.handleMousemove);\n    }\n\n    /**\n     * Track and handle mouse move event\n     * @param {Vue.Event} event\n     * @return {void}\n     */\n    public handleMousemove() {\n        if (this.percent < 100) {\n            this.entropy += Crypto.randomBytes(8);\n            this.percent++;\n            return;\n        }\n\n        // stop tracking\n        this.shouldTrackMouse = false;\n        return this.saveMnemonicAndGoToNextPage();\n    }\n\n    /**\n     * Save mnemonic and redirect to next page\n     * return {void}\n     */\n    private async saveMnemonicAndGoToNextPage() {\n        try {\n            // act\n            const seed = this.filterRepeatedWords();\n\n            // encrypt seed for storage\n            const encSeed = Crypto.encrypt(seed.plain, this.currentPassword.value);\n\n            // update currentProfile instance and storage\n            this.profileService.updateSeed(this.currentProfile, encSeed);\n\n            // update state\n            await this.$store.dispatch('profile/SET_CURRENT_PROFILE', this.currentProfile);\n            this.$store.dispatch('temporary/SET_MNEMONIC', seed);\n\n            // redirect\n            return this.$router.push({ name: 'profiles.createProfile.showMnemonic' });\n        } catch (error) {\n            console.log('An error happened while generating Mnenomic:', error);\n            this.$store.dispatch('notification/ADD_ERROR', NotificationType.MNEMONIC_GENERATION_ERROR);\n        }\n    }\n\n    /**\n     * Filter repeating words in Mnemonic phrase\n     * retrun seed\n     */\n    private filterRepeatedWords() {\n        const entropy = CryptoJS.SHA256(this.entropy + Crypto.randomBytes(8)).toString();\n        const seed = MnemonicPassPhrase.createFromEntropy(entropy);\n        if (new Set(seed.toArray()).size != seed.toArray().length) {\n            return this.filterRepeatedWords();\n        }\n        return seed;\n    }\n}\n","\n\n\n\n\n\n\n\n\nimport GenerateMnemonicTs from './GenerateMnemonicTs';\nexport default class GenerateMnemonic extends GenerateMnemonicTs {}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateMnemonic.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateMnemonic.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GenerateMnemonic.vue?vue&type=template&id=a93f84ea&scoped=true&\"\nimport script from \"./GenerateMnemonic.vue?vue&type=script&lang=ts&\"\nexport * from \"./GenerateMnemonic.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GenerateMnemonic.vue?vue&type=style&index=0&id=a93f84ea&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a93f84ea\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateMnemonic.vue?vue&type=style&index=0&id=a93f84ea&lang=less&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../../../../resources/fonts/NotoSans-Bold.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../../../../resources/fonts/Xolonium-Regular.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../../../../resources/fonts/Xolonium-Bold.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../../../../resources/fonts/NotoSans-ExtraBold.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../../../../resources/fonts/NotoSans-Light.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = require(\"../../../../resources/fonts/NotoSans-Medium.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_6___ = require(\"../../../../resources/fonts/NotoSans-Regular.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_7___ = require(\"../../../../resources/fonts/NotoSans-SemiBold.ttf\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\n// Module\nexports.push([module.id, \"@font-face{font-family:noto-sans-bold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");font-weight:400;font-style:normal}@font-face{font-family:xolonium-regular;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");font-weight:400;font-style:normal}@font-face{font-family:xolonium-bold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-extrabold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-light;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-medium;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-regular;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-semibold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \");font-weight:400;font-style:normal}.step-2-wrapper[data-v-a93f84ea]{width:100%;height:100%;display:flex;padding-top:.8rem;flex-direction:column;align-items:center;padding-left:.7rem}.step-2-wrapper img[data-v-a93f84ea]{width:18%;margin-bottom:4%}.step-2-wrapper .progress-bar[data-v-a93f84ea]{text-align:center;margin:.2rem auto;font-size:.26rem;font-weight:700;color:rgba(0,0,0,.85);padding-bottom:.2rem}.step-2-wrapper[data-v-a93f84ea] .ivu-progress{width:100%;padding-right:none!important}.step-2-wrapper[data-v-a93f84ea] .ivu-progress .ivu-progress-text-inner{margin-top:.15rem;color:#007dbb}.step-2-wrapper[data-v-a93f84ea] .ivu-progress-text-inner{position:absolute;font-size:.16rem;top:.3rem;left:49%;color:#1fb6ac}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}